<div
  class="background-pattern page"
  fxLayout="column"
  fxLayoutAlign="center center"
>
  <div [@fadeInUp] class="card border-radius elevation">
    <div
      class="header padding background-primary"
      fxLayout="column"
      fxLayoutAlign="center center"
    >
      <div class="logo fill-primary-contrast">
        <svg viewBox="0 0 33.74 33.99" xmlns="http://www.w3.org/2000/svg">
          <title>icon</title>
          <path
            d="M26.83,19.33c-.36.37-.73.71-1.09,1l.31,3.22a5.41,5.41,0,0,1-2.43,5.14L15.72,34l-.67-8.74a6.54,6.54,0,0,1-6.57-6.53L0,18.18l5-7.93a5.41,5.41,0,0,1,5.23-2.54l3.1.31q.49-.55,1.05-1.11C20.78.54,30.82-.62,33.48.26,34.37,2.93,33.2,13,26.83,19.33Zm-.45-12a3.77,3.77,0,1,0,0,5.33A3.77,3.77,0,0,0,26.38,7.36ZM2.82,23.72l3.24-3.24a8.24,8.24,0,0,0,7.11,7.1L10.5,30.25,7.74,33V29.46L2.41,31.23l1.78-5.32H.64Z"
          ></path>
        </svg>
      </div>
    </div>
    <form [formGroup]="form" autocomplete="off" (ngSubmit)="resetPassword()">
      <div
        class="padding"
        fxLayout="column"
        fxLayoutGap="16px"
        [formGroup]="form"
      >
        <div fxFlex="auto" fxLayout="column">
          <mat-form-field fxFlex="grow" appearance="outline">
            <mat-label>New Password</mat-label>
            <input
              matInput
              [type]="inputType"
              formControlName="password"
              [(ngModel)]="model.password"
              required
            />
            <button
              type="button"
              mat-icon-button
              matSuffix
              (click)="toggleVisibility()"
              matTooltip="Toggle Visibility"
            >
              <mat-icon *ngIf="visible">visibility</mat-icon>
              <mat-icon *ngIf="!visible">visibility_off</mat-icon>
            </button>
            <mat-hint>Click the eye to toggle visibility</mat-hint>
            <mat-error *ngIf="form.get('password')?.hasError('required')"
              >We need a password to reset</mat-error
            >
            <mat-error *ngIf="form.get('password')?.hasError('pattern')">
              Password length must be greater than or equal to 8 and password
              must contain one or more uppercase , lowercase , numeric and
              special characters
            </mat-error>
          </mat-form-field>

          <mat-form-field fxFlex="grow" appearance="outline">
            <mat-label>Password (Confirm)</mat-label>
            <input
              matInput
              [type]="inputType"
              formControlName="passwordConfirm"
              [(ngModel)]="model.passwordConfirm"
              required
            />
            <button
              type="button"
              mat-icon-button
              matSuffix
              (click)="toggleVisibility()"
              matTooltip="Toggle Visibility"
            >
              <mat-icon *ngIf="visible">visibility</mat-icon>
              <mat-icon *ngIf="!visible">visibility_off</mat-icon>
            </button>
            <mat-hint>Please repeat your password from above</mat-hint>
            <mat-error *ngIf="form.get('passwordConfirm').hasError('required')"
              >We need a confirm password to reset</mat-error
            >
            <mat-error *ngIf="form.get('passwordConfirm').hasError('mustMatch')"
              >Password does not match the confirm password</mat-error
            >
          </mat-form-field>
        </div>

        <button color="primary" mat-raised-button [disabled]="form.invalid">
          RESET PASSWORD
        </button>
        <p class="secondary-text text-center">
          <a [routerLink]="['/public/login']">Sign in here</a>
        </p>
      </div>
    </form>
  </div>
</div>
